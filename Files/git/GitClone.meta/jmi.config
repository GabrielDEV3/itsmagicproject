{"autoCompleteData":{"varMap":{"Console":{"clsName":"Console","name":"Console"},"url + owner + \"/\" + repo + \"/contents/\" + file":{"clsName":"File","name":"url + owner + \"/\" + repo + \"/contents/\" + file"},"url + owner + \"/\" + repo + \"/contents/\" + file.getPath()":{"clsName":"String","name":"url + owner + \"/\" + repo + \"/contents/\" + file.getPath()"},"this":{"clsName":"GitClone","name":"this"},"if(encodedContent":{"clsName":"String","name":"if(encodedContent"},"Console.log(encodedContent":{"clsName":"String","name":"Console.log(encodedContent"},"Base64.getDecoder().decode(encodedContent":{"clsName":"String","name":"Base64.getDecoder().decode(encodedContent"},"if(file":{"clsName":"File","name":"if(file"},"file":{"clsName":"File","name":"file"},"file.getParentFile()":{"clsName":"File","name":"file.getParentFile()"}}},"compiledCode":["package JAVARuntime;","","import org.json.*; //[IDENTIFIER-START]LINE-NUMBER\u003d0;[IDENTIFIER-END]","import java.util.*;","import java.util.concurrent.*;","import java.util.concurrent.atomic.*;","import java.util.concurrent.locks.*;","import java.util.function.*;","import java.util.regex.*;","import java.util.stream.*;","import java.util.zip.*;","import java.text.*;","import java.net.*;","import java.math.*;","import java.io.*;","import java.nio.*;","import java.time.*;","import java.time.chrono.*;","import java.time.format.*;","import java.time.temporal.*;","import java.time.zone.*;","","","","//[IDENTIFIER-START]LINE-NUMBER\u003d1;[IDENTIFIER-END]","public class GitClone { //[IDENTIFIER-START]LINE-NUMBER\u003d2;[IDENTIFIER-END]","//[IDENTIFIER-START]LINE-NUMBER\u003d3;[IDENTIFIER-END]","public static String context; //[IDENTIFIER-START]LINE-NUMBER\u003d4;[IDENTIFIER-END]","//[IDENTIFIER-START]LINE-NUMBER\u003d5;[IDENTIFIER-END]","public static final String url \u003d \"https://api.github.com/repos/\"; //[IDENTIFIER-START]LINE-NUMBER\u003d6;[IDENTIFIER-END]","//[IDENTIFIER-START]LINE-NUMBER\u003d7;[IDENTIFIER-END]","public String path; //[IDENTIFIER-START]LINE-NUMBER\u003d8;[IDENTIFIER-END]","private String owner; //[IDENTIFIER-START]LINE-NUMBER\u003d9;[IDENTIFIER-END]","private String repo; //[IDENTIFIER-START]LINE-NUMBER\u003d10;[IDENTIFIER-END]","private String token; //[IDENTIFIER-START]LINE-NUMBER\u003d11;[IDENTIFIER-END]","private File file; //[IDENTIFIER-START]LINE-NUMBER\u003d12;[IDENTIFIER-END]","//[IDENTIFIER-START]LINE-NUMBER\u003d13;[IDENTIFIER-END]","public GitClone(String path, String owner, String repo, String token) { //[IDENTIFIER-START]LINE-NUMBER\u003d14;[IDENTIFIER-END]","this.path \u003d path; //[IDENTIFIER-START]LINE-NUMBER\u003d15;[IDENTIFIER-END]","this.owner \u003d owner; //[IDENTIFIER-START]LINE-NUMBER\u003d16;[IDENTIFIER-END]","this.repo \u003d repo; //[IDENTIFIER-START]LINE-NUMBER\u003d17;[IDENTIFIER-END]","this.token \u003d token; //[IDENTIFIER-START]LINE-NUMBER\u003d18;[IDENTIFIER-END]","this.file \u003d new File(context, path); //[IDENTIFIER-START]LINE-NUMBER\u003d19;[IDENTIFIER-END]","} //[IDENTIFIER-START]LINE-NUMBER\u003d20;[IDENTIFIER-END]","//[IDENTIFIER-START]LINE-NUMBER\u003d21;[IDENTIFIER-END]","public void commit() { //[IDENTIFIER-START]LINE-NUMBER\u003d22;[IDENTIFIER-END]","HttpURLConnection connection \u003d null; //[IDENTIFIER-START]LINE-NUMBER\u003d23;[IDENTIFIER-END]","BufferedReader br \u003d null; //[IDENTIFIER-START]LINE-NUMBER\u003d24;[IDENTIFIER-END]","//[IDENTIFIER-START]LINE-NUMBER\u003d25;[IDENTIFIER-END]","try { //[IDENTIFIER-START]LINE-NUMBER\u003d26;[IDENTIFIER-END]","String apiUrl \u003d url + owner + \"/\" + repo + \"/contents/\" + path; //[IDENTIFIER-START]LINE-NUMBER\u003d27;[IDENTIFIER-END]","connection \u003d (HttpURLConnection) new URL(apiUrl).openConnection(); //[IDENTIFIER-START]LINE-NUMBER\u003d28;[IDENTIFIER-END]","connection.setRequestMethod(\"GET\"); //[IDENTIFIER-START]LINE-NUMBER\u003d29;[IDENTIFIER-END]","connection.setRequestProperty(\"Accept\", \"application/vnd.github.v3+json\"); //[IDENTIFIER-START]LINE-NUMBER\u003d30;[IDENTIFIER-END]","connection.setRequestProperty(\"X-GitHub-Api-Version\", \"2022-11-28\"); //[IDENTIFIER-START]LINE-NUMBER\u003d31;[IDENTIFIER-END]","connection.setRequestProperty(\"Authorization\", \"Bearer \" + token); //[IDENTIFIER-START]LINE-NUMBER\u003d32;[IDENTIFIER-END]","//[IDENTIFIER-START]LINE-NUMBER\u003d33;[IDENTIFIER-END]","int responseCode \u003d connection.getResponseCode(); //[IDENTIFIER-START]LINE-NUMBER\u003d34;[IDENTIFIER-END]","//[IDENTIFIER-START]LINE-NUMBER\u003d35;[IDENTIFIER-END]","if (responseCode \u003d\u003d HttpURLConnection.HTTP_OK) { //[IDENTIFIER-START]LINE-NUMBER\u003d36;[IDENTIFIER-END]","br \u003d new BufferedReader(new InputStreamReader(connection.getInputStream())); //[IDENTIFIER-START]LINE-NUMBER\u003d37;[IDENTIFIER-END]","StringBuilder response \u003d new StringBuilder(); //[IDENTIFIER-START]LINE-NUMBER\u003d38;[IDENTIFIER-END]","String responseLine; //[IDENTIFIER-START]LINE-NUMBER\u003d39;[IDENTIFIER-END]","while ((responseLine \u003d br.readLine()) !\u003d null) { //[IDENTIFIER-START]LINE-NUMBER\u003d40;[IDENTIFIER-END]","response.append(responseLine.trim()); //[IDENTIFIER-START]LINE-NUMBER\u003d41;[IDENTIFIER-END]","} //[IDENTIFIER-START]LINE-NUMBER\u003d42;[IDENTIFIER-END]","//[IDENTIFIER-START]LINE-NUMBER\u003d43;[IDENTIFIER-END]","JSONObject fileObject \u003d new JSONObject(response.toString()); //[IDENTIFIER-START]LINE-NUMBER\u003d44;[IDENTIFIER-END]","String fileName \u003d fileObject.getString(\"name\"); //[IDENTIFIER-START]LINE-NUMBER\u003d45;[IDENTIFIER-END]","String encodedContent \u003d fileObject.getString(\"content\"); //[IDENTIFIER-START]LINE-NUMBER\u003d46;[IDENTIFIER-END]","//[IDENTIFIER-START]LINE-NUMBER\u003d47;[IDENTIFIER-END]","Console.log(fileName); //[IDENTIFIER-START]LINE-NUMBER\u003d48;[IDENTIFIER-END]","//[IDENTIFIER-START]LINE-NUMBER\u003d49;[IDENTIFIER-END]","byte[] decodedContent \u003d new byte[] {0}; //[IDENTIFIER-START]LINE-NUMBER\u003d50;[IDENTIFIER-END]","decodedContent \u003d Base64.getDecoder().decode(encodedContent.trim()); //[IDENTIFIER-START]LINE-NUMBER\u003d51;[IDENTIFIER-END]","Console.log(new String(decodedContent)); //[IDENTIFIER-START]LINE-NUMBER\u003d52;[IDENTIFIER-END]","saveFile(fileName, decodedContent); //[IDENTIFIER-START]LINE-NUMBER\u003d53;[IDENTIFIER-END]","} else { //[IDENTIFIER-START]LINE-NUMBER\u003d54;[IDENTIFIER-END]","br \u003d new BufferedReader(new InputStreamReader(connection.getErrorStream())); //[IDENTIFIER-START]LINE-NUMBER\u003d55;[IDENTIFIER-END]","StringBuilder errorResponse \u003d new StringBuilder(); //[IDENTIFIER-START]LINE-NUMBER\u003d56;[IDENTIFIER-END]","String errorLine; //[IDENTIFIER-START]LINE-NUMBER\u003d57;[IDENTIFIER-END]","while ((errorLine \u003d br.readLine()) !\u003d null) { //[IDENTIFIER-START]LINE-NUMBER\u003d58;[IDENTIFIER-END]","errorResponse.append(errorLine.trim()); //[IDENTIFIER-START]LINE-NUMBER\u003d59;[IDENTIFIER-END]","} //[IDENTIFIER-START]LINE-NUMBER\u003d60;[IDENTIFIER-END]","Console.log(\"Erro ao clonar arquivo: \" + errorResponse.toString()); //[IDENTIFIER-START]LINE-NUMBER\u003d61;[IDENTIFIER-END]","Console.log(apiUrl); //[IDENTIFIER-START]LINE-NUMBER\u003d62;[IDENTIFIER-END]","} //[IDENTIFIER-START]LINE-NUMBER\u003d63;[IDENTIFIER-END]","//[IDENTIFIER-START]LINE-NUMBER\u003d64;[IDENTIFIER-END]","} catch (IOException e) { //[IDENTIFIER-START]LINE-NUMBER\u003d65;[IDENTIFIER-END]","Console.log(e); //[IDENTIFIER-START]LINE-NUMBER\u003d66;[IDENTIFIER-END]","} catch (JSONException e) { //[IDENTIFIER-START]LINE-NUMBER\u003d67;[IDENTIFIER-END]","Console.log(e); //[IDENTIFIER-START]LINE-NUMBER\u003d68;[IDENTIFIER-END]","} finally { //[IDENTIFIER-START]LINE-NUMBER\u003d69;[IDENTIFIER-END]","try { //[IDENTIFIER-START]LINE-NUMBER\u003d70;[IDENTIFIER-END]","if (br !\u003d null) br.close(); //[IDENTIFIER-START]LINE-NUMBER\u003d71;[IDENTIFIER-END]","if (connection !\u003d null) connection.disconnect(); //[IDENTIFIER-START]LINE-NUMBER\u003d72;[IDENTIFIER-END]","} catch (IOException ex) { //[IDENTIFIER-START]LINE-NUMBER\u003d73;[IDENTIFIER-END]","Console.log(ex); //[IDENTIFIER-START]LINE-NUMBER\u003d74;[IDENTIFIER-END]","} //[IDENTIFIER-START]LINE-NUMBER\u003d75;[IDENTIFIER-END]","} //[IDENTIFIER-START]LINE-NUMBER\u003d76;[IDENTIFIER-END]","} //[IDENTIFIER-START]LINE-NUMBER\u003d77;[IDENTIFIER-END]","//[IDENTIFIER-START]LINE-NUMBER\u003d78;[IDENTIFIER-END]","public void setOutputFile(File file) { //[IDENTIFIER-START]LINE-NUMBER\u003d79;[IDENTIFIER-END]","this.file \u003d file; //[IDENTIFIER-START]LINE-NUMBER\u003d80;[IDENTIFIER-END]","} //[IDENTIFIER-START]LINE-NUMBER\u003d81;[IDENTIFIER-END]","//[IDENTIFIER-START]LINE-NUMBER\u003d82;[IDENTIFIER-END]","private void saveFile(String fileName, byte[] content) { //[IDENTIFIER-START]LINE-NUMBER\u003d83;[IDENTIFIER-END]","try { //[IDENTIFIER-START]LINE-NUMBER\u003d84;[IDENTIFIER-END]","if (!file.exists()) { //[IDENTIFIER-START]LINE-NUMBER\u003d85;[IDENTIFIER-END]","file.getParentFile().mkdirs(); //[IDENTIFIER-START]LINE-NUMBER\u003d86;[IDENTIFIER-END]","file.createNewFile(); //[IDENTIFIER-START]LINE-NUMBER\u003d87;[IDENTIFIER-END]","} //[IDENTIFIER-START]LINE-NUMBER\u003d88;[IDENTIFIER-END]","FileOutputStream fos \u003d new FileOutputStream(file); //[IDENTIFIER-START]LINE-NUMBER\u003d89;[IDENTIFIER-END]","fos.write(content); //[IDENTIFIER-START]LINE-NUMBER\u003d90;[IDENTIFIER-END]","fos.flush(); //[IDENTIFIER-START]LINE-NUMBER\u003d91;[IDENTIFIER-END]","fos.close(); //[IDENTIFIER-START]LINE-NUMBER\u003d92;[IDENTIFIER-END]","} catch (IOException e) { //[IDENTIFIER-START]LINE-NUMBER\u003d93;[IDENTIFIER-END]","Console.log(e); //[IDENTIFIER-START]LINE-NUMBER\u003d94;[IDENTIFIER-END]","} //[IDENTIFIER-START]LINE-NUMBER\u003d95;[IDENTIFIER-END]","} //[IDENTIFIER-START]LINE-NUMBER\u003d96;[IDENTIFIER-END]","} //[IDENTIFIER-START]LINE-NUMBER\u003d97;[IDENTIFIER-END]"],"originalFileName":"GitClone.java","referencedClasses":[],"referencesUpdatedV2":true}